(("undefined"!==typeof self?self:this)["webpackJsonpappForm"]=("undefined"!==typeof self?self:this)["webpackJsonpappForm"]||[]).push([[9],{3684:function(e,t,i){"use strict";i("ce14")},"36bc":function(e,t,i){"use strict";var s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("b-modal",{attrs:{size:"lg",id:"modal-addForm--"+e.idModal,title:"Ajouter un champs dans le gestionnaire de champs","hide-footer":"","content-class":["mange-add-field"]},on:{ok:e.handleOk}},[i("loaderIcon",{attrs:{busy:e.busy}}),i("form",{ref:"forme",on:{submit:e.handleSubmit,reset:e.resetModal,hidden:e.resetModal}},[i("b-row",[i("b-col",{attrs:{cols:"6"}},[i("b-form-group",{attrs:{label:"Sélectionner un model de base","label-for":"type-input","invalid-feedback":"type is required"}},[i("b-form-select",{attrs:{options:e.typeOptions,id:"type-input",required:""},model:{value:e.field.type,callback:function(t){e.$set(e.field,"type",t)},expression:"field.type"}})],1)],1),i("b-col",{attrs:{cols:"6"}},[i("b-form-group",{attrs:{label:"Accosier à un formulaire","label-for":"type-input","invalid-feedback":"type is required",description:"Cela permet de grouper ce champs avec le formulaire selectionné"}},[i("b-form-select",{attrs:{options:e.listForms,disabled:""!==e.defaultFormid,id:"type-input-2",required:""},model:{value:e.field.formid,callback:function(t){e.$set(e.field,"formid",t)},expression:"field.formid"}})],1)],1)],1),i("input-option-form",{staticClass:"content-config-field",attrs:{type:e.field.type,field:e.field}}),i("b-row",{attrs:{"align-h":"end"}},[i("div",{staticClass:"mt-3 mx-3"},[i("b-button",{staticClass:"mr-2",attrs:{type:"submit",variant:"primary",disabled:!(e.field.name.length>2)}},[e._v(" "+e._s(e.nameButtonOk)+" ")])],1)])],1),i("pre",[e._v(" field : "+e._s(e.field)+" ")])],1)},a=[],r=i("f3f3"),l=(i("a9e3"),i("159b"),i("2f62")),n=i("4fa8"),o=i("021a"),d=i("2c10"),u=i("f158"),c={components:{inputOptionForm:n["a"],loaderIcon:o["a"]},props:{field:{type:Object,required:!0},genre:{type:String,default:""},listForms:{type:Array,required:!0},defaultFormid:{type:String,default:null},idModal:{type:[String,Number],required:!0}},data:function(){return{typeFieldSelected:null,type:null,labelState:null,typeOptions:d["a"].typeOptions(),busy:!1}},computed:Object(r["a"])(Object(r["a"])({},Object(l["b"])(["formDatas","uid"])),{},{nameButtonOk:function(){return this.field.id?"Mettre à jour":"Ajouter"}}),watch:{defaultFormid:function(e){var t=this;this.listForms.forEach((function(i){i.value===e&&(t.field.formid=i.value)}))}},methods:{resetModal:function(){this.type=null},handleOk:function(e){e.preventDefault(),this.handleSubmit()},handleSubmit:function(e){var t=this;this.busy=!0,e.preventDefault(),u["a"].prepareFieldToSave(this.field,this.uid).then((function(e){u["a"].saveForm(e).then((function(i){console.log("resp : ",i," \n datas : ",e),e.forEach((function(e){"appformmanager_fields"==e.table&&(e.where||i.data.forEach((function(e){"appformmanager_fields"==e.table&&t.$store.state.StoreGestionChamps.fields.push(Object(r["a"])(Object(r["a"])({},t.field),{},{id:e.result,stepes:[]}))})))})),t.$bvModal.hide("modal-addForm--"+t.idModal),t.busy=!1,t.$emit("set_default_field")})).catch((function(){t.busy=!1}))}))}}},f=c,p=(i("3684"),i("2877")),m=Object(p["a"])(f,s,a,!1,null,null,null);t["a"]=m.exports},9429:function(e,t,i){"use strict";i("eead")},ce14:function(e,t,i){},eead:function(e,t,i){},f28f:function(e,t,i){"use strict";i.r(t);var s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("b-table",{staticClass:"tableau-gestion-fields",attrs:{hover:"",small:"","caption-top":"",responsive:"",bordered:"",busy:e.loaders.GestionField,items:e.fieldsRender,fields:e.fieldsName},scopedSlots:e._u([{key:"table-busy",fn:function(){return[i("loaderIcon",{attrs:{busy:e.loaders.GestionField}})]},proxy:!0},{key:"cell(actions)",fn:function(t){return[i("buttonAction",{attrs:{row:t,listForms:e.listForms}})]}},{key:"cell(formid)",fn:function(t){return[e._v(" "+e._s(e.getStringValue(t.value))+" ")]}},{key:"cell(value)",fn:function(t){return[i(e.templateRender(t.item.type),{tag:"component",attrs:{field:t.item}})]}},{key:"cell(stepes)",fn:function(e){return[i("stepesInfosVue",{attrs:{stepes:e.value}})]}}])})},a=[],r=i("f3f3"),l=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"boutton-absolute d-flex"},[i("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.v-info",modifiers:{hover:!0,"v-info":!0}}],staticClass:"border-0",attrs:{size:"md",variant:"outline-info",title:"Editer le champs"},on:{click:e.editerField}},[i("b-icon",{attrs:{icon:"pencil-square","aria-hidden":"true"}})],1),i("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.v-info",modifiers:{hover:!0,"v-info":!0}}],staticClass:"border-0 d-none",attrs:{size:"md",variant:"outline-secondary",title:"cloner le champs"},on:{click:function(t){return e.$emit("cloner-field",e.row)}}},[i("b-icon",{attrs:{icon:"clipboard-plus","aria-hidden":"true"}})],1),i("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.v-danger",modifiers:{hover:!0,"v-danger":!0}}],staticClass:"border-0",attrs:{size:"md",variant:"outline-danger",title:"Supprimer le champs"},on:{click:e.deleteField}},[i("b-icon",{attrs:{icon:"trash-fill","aria-hidden":"true"}})],1),i("AddForm",{attrs:{listForms:e.listForms,defaultFormid:e.field.formid,field:e.field,idModal:"edit"+e.row.index}})],1)},n=[],o=(i("a434"),i("2f62")),d=i("36bc"),u=i("f158"),c={name:"tableauChampsAction",props:{row:{type:Object},listForms:{type:Array}},components:{AddForm:d["a"]},computed:Object(r["a"])(Object(r["a"])({},Object(o["c"])({loaders:function(e){return e.StoreGestionChamps.loaders},fields:function(e){return e.StoreGestionChamps.fields}})),{},{field:function(){return this.row?this.row.item:{}}}),methods:{editerField:function(){this.$bvModal.show("modal-addForm--edit"+this.row.index)},deleteField:function(){var e=this;u["a"].modalConfirmDelete().then((function(){e.loaders.GestionField=!0,u["a"].deleteField(e.row.item).then((function(){e.fields.splice(e.row.index,1),e.loaders.GestionField=!1}))}))}}},f=c,p=i("2877"),m=Object(p["a"])(f,l,n,!1,null,null,null),b=m.exports,h=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("b-list-group",{staticClass:"list-small"},e._l(e.stepes,(function(t,s){return i("b-list-group-item",{key:s,staticClass:"item-vertical"},[i("div",{staticClass:"d-flex"},[t.step?i("span",{staticClass:"item"},[e._v(" "+e._s(t.step.title)+" ")]):e._e(),i("span",{staticClass:"item"},[e._v(e._s(t.stepid))])])])})),1)},v=[],y={name:"stepesInfos",props:{stepes:{type:Array}}},F=y,_=Object(p["a"])(F,h,v,!1,null,null,null),k=_.exports,g=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("b-list-group",{staticClass:"list-small"},e._l(e.field.options,(function(t,s){return i("b-list-group-item",{key:s,staticClass:"item-vertical"},[i("div",{staticClass:"d-flex"},[i("span",{staticClass:"item"},[e._v(e._s(t.text))]),t.cout?i("span",{staticClass:"item"},[e._v(e._s(t.cout)+" €")]):e._e()])])})),1)},C=[],O={name:"radio",props:{field:{type:Object,required:!0}}},j=O,w=Object(p["a"])(j,g,C,!1,null,null,null),x=w.exports,S={name:"tableauChamps",props:{listForms:{type:Array,required:!0}},components:{buttonAction:b,radio:x,stepesInfosVue:k},data:function(){return{fieldsName:[{key:"formid",label:"Formulaire",class:["td-formid"]},{key:"stepes",label:"etapes + identifiant",class:["td-stepes"]},{key:"label",sortable:!1,label:"Etiquetes"},{key:"value",label:"Prix",sortable:!0},{key:"actions",label:"#Actions",class:["position-relative","td-actions"]},{key:"type",label:"Type"}]}},computed:Object(r["a"])(Object(r["a"])({},Object(o["c"])({loaders:function(e){return e.StoreGestionChamps.loaders},fields:function(e){return e.StoreGestionChamps.fields}})),{},{fieldsRender:function(){return this.fields}}),methods:{getStringValue:function(e){for(var t in this.listForms){var i=this.listForms[t];if(i.value===e)return i.text}},templateRender:function(e){var t="";switch(e){case"radio":t=x;break;case"checkbox":t=x;break;default:break}return t}}},A=S,$=(i("9429"),Object(p["a"])(A,s,a,!1,null,null,null));t["default"]=$.exports}}]);
//# sourceMappingURL=appForm.umd.min.9.js.map