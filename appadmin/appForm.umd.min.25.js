(("undefined"!==typeof self?self:this)["webpackJsonpappForm"]=("undefined"!==typeof self?self:this)["webpackJsonpappForm"]||[]).push([[25],{"379c":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-container",{attrs:{fluid:"md"}},[a("div",[a("title-bar",{attrs:{conf:{col:!0,text:"Traitement"},id:t.id,showDevis:!1}})],1),a("div",{staticClass:"appfom-container"},[a("b-row",{attrs:{"align-h":"center"}},[a("b-col",{attrs:{cols:"12"}},[a("listBlocks",{attrs:{liste_fields_check:t.ListeFieldsCheck,liste_fields_display:t.ListeFieldsDisplay,totalRows:t.totalRows,isBusy:t.isBusy,perPage:t.perPage},on:{"ev-change-pagination":t.ChangePagination}})],1)],1)],1)])},i=[],n=a("5530"),o=(a("b0c0"),a("a434"),a("acc4")),r=a("f158"),l=a("2f62"),c=a("8bba"),d={components:{listBlocks:c["a"],TitleBar:o["a"]},props:{id:{type:String,required:!0}},data:function(){return{totalRows:0,isBusy:!1,perPage:20}},watch:{stepsId:function(){this.datasBdOrLocalStorage()}},mounted:function(){this.loadDatas(),this.getTotalRows()},computed:Object(n["a"])(Object(n["a"])(Object(n["a"])({},Object(l["c"])(["traitementId"])),Object(l["b"])(["traitementFormItems","form"])),{},{ListeFieldsDisplay:function(){var t=[{label:"Date",key:"created",formatter:function(t){return r["a"].getMysqlDateToFrench(t)}},{label:"Que souhaitez vous faire",key:"action",stickyColumn:!0,thStyle:{minWidth:"170px"},tdClass:["bg-light"]},{label:"Status",key:"status",thStyle:{minWidth:"140px"}},{label:"Prix",key:"price",thStyle:{minWidth:"120px"},formatter:function(t){return t+" â‚¬"}},{label:"Utilisateur",key:"uid",thStyle:{minWidth:"220px"}}];for(var e in this.form.forms){var a=this.form.forms[e];for(var s in a.fields){var i=a.fields[s];i.display_field&&t.push({label:i.label,key:i.name,thStyle:{minWidth:"220px"}})}}return t},ListeFieldsCheck:function(){var t=[];for(var e in this.ListeFieldsDisplay)t.push(this.ListeFieldsDisplay[e].key);return t}}),methods:{deleteSteps:function(t){var e=this.$store.state.allStepsDatas,a=e.indexOf(this.formDatas);this.$emit("index-to-delete",a),console.log("de",t);for(var s=e.length-1;s>=0;s--)s===a&&(e.splice(s,1),console.log("iiippp"))},saveToLocal:function(){r["a"].prepareDatasToSave(this.form).then((function(t){r["a"].saveForm(t).then((function(){}))}))},resetValue:function(){this.$store.getters.formDatas.selected="",this.$store.getters.formDatas.value=[],console.log("prev")},resetModal:function(){},handleOk:function(t){t.preventDefault(),this.handleSubmit()},handleSubmit:function(t){var e=this;t.preventDefault(),this.demo=!0,this.$nextTick((function(){e.$bvModal.hide("modal-prevent-closing")}))},getTotalRows:function(){var t=this,e="select count(*) as nombres from `appformmanager_datas` where `appformmanager_forms` = "+this.id;r["a"].getData(e).then((function(e){e.data[0]&&e.data[0].nombres&&(t.totalRows=parseInt(e.data[0].nombres)),console.log("resp[0].nombres : ",e.data[0])}))},loadDatas:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.isBusy=!0;var a=null;e&&(a=(e-1)*this.perPage),this.$store.dispatch("loadTraitementDatas",{id:this.id,pagination:a}).then((function(){t.$store.dispatch("setTraitId",t.id),t.$store.dispatch("setFormId",t.id),t.isBusy=!1}))},ChangePagination:function(t){this.loadDatas(t)}}},f=d,h=(a("60ad"),a("2877")),u=Object(h["a"])(f,s,i,!1,null,null,null);e["default"]=u.exports},"60ad":function(t,e,a){"use strict";a("6653")},6653:function(t,e,a){}}]);
//# sourceMappingURL=appForm.umd.min.25.js.map