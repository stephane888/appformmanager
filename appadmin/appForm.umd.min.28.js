(("undefined"!==typeof self?self:this)["webpackJsonpappForm"]=("undefined"!==typeof self?self:this)["webpackJsonpappForm"]||[]).push([[28],{"0690":function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("b-container",{attrs:{fluid:"lg"}},[s("div",{attrs:{checkUid:t.checkUid}},[s("title-bar",{attrs:{conf:{col:!0,text:"Mes Devis"},id:t.id,showDevis:!1}})],1),s("div",{staticClass:"appfom-container"},[s("b-row",{attrs:{"align-h":"center"}},[s("b-col",{attrs:{cols:"12"}},[s("listBlocks",{attrs:{liste_fields_check:t.ListeFieldsCheck,liste_fields_display:t.ListeFieldsDisplay,totalRows:t.totalRows,isBusy:t.isBusy,perPage:t.perPage},on:{"ev-change-pagination":t.ChangePagination}})],1)],1)],1)])],1)},i=[],o=s("f3f3"),n=(s("b0c0"),s("a434"),s("f158")),r=s("63c9"),l=s("2f62"),c=s("8bba"),d={components:{listBlocks:c["a"],TitleBar:r["a"]},props:{id:{type:String,required:!0}},data:function(){return{totalRows:0,isBusy:!1,perPage:20}},watch:{stepsId:function(){this.datasBdOrLocalStorage()}},mounted:function(){},computed:Object(o["a"])(Object(o["a"])(Object(o["a"])({},Object(l["c"])(["traitementId"])),Object(l["b"])(["traitementFormItems","form","uid"])),{},{ListeFieldsDisplay:function(){var t=[{label:"Date",key:"created",formatter:function(t){return n["a"].getMysqlDateToFrench(t)}},{label:"Status",key:"status",thStyle:{minWidth:"140px"}},{label:"Prix",key:"price"},{label:"Que souhaitez vous faire",key:"action",stickyColumn:!0}];for(var e in this.form.forms){var s=this.form.forms[e];for(var a in s.fields){var i=s.fields[a];i.display_field&&t.push({label:i.label,key:i.name})}}return t},ListeFieldsCheck:function(){var t=[];for(var e in this.ListeFieldsDisplay)t.push(this.ListeFieldsDisplay[e].key);return t},checkUid:function(){return!!this.uid&&(this.loadDatas(),this.getTotalRows(),!0)}}),methods:{deleteSteps:function(t){var e=this.$store.state.allStepsDatas,s=e.indexOf(this.formDatas);this.$emit("index-to-delete",s),console.log("de",t);for(var a=e.length-1;a>=0;a--)a===s&&(e.splice(a,1),console.log("iiippp"))},saveToLocal:function(){n["a"].prepareDatasToSave(this.form).then((function(t){n["a"].saveForm(t).then((function(){}))}))},resetValue:function(){this.$store.getters.formDatas.selected="",this.$store.getters.formDatas.value=[],console.log("prev")},resetModal:function(){},handleOk:function(t){t.preventDefault(),this.handleSubmit()},handleSubmit:function(t){var e=this;t.preventDefault(),this.demo=!0,this.$nextTick((function(){e.$bvModal.hide("modal-prevent-closing")}))},loadDatas:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.isBusy=!0;var s=null;e&&(s=(e-1)*this.perPage),this.$store.dispatch("loadTraitementDatas",{id:this.id,pagination:s,uid:this.uid}).then((function(){t.$store.dispatch("setTraitId",t.id),t.$store.dispatch("setFormId",t.id),t.isBusy=!1}))},ChangePagination:function(t){this.loadDatas(t)},getTotalRows:function(){var t=this,e="select count(*) as nombres from `appformmanager_datas` where `appformmanager_forms` = "+this.id+" and `uid` = "+this.uid;n["a"].getData(e).then((function(e){e.data[0]&&e.data[0].nombres&&(t.totalRows=parseInt(e.data[0].nombres)),console.log("resp[0].nombres : ",e.data[0])}))}}},u=d,f=(s("b49c"),s("2877")),h=Object(f["a"])(u,a,i,!1,null,null,null);e["default"]=h.exports},"5e76":function(t,e,s){},b49c:function(t,e,s){"use strict";s("5e76")}}]);
//# sourceMappingURL=appForm.umd.min.28.js.map