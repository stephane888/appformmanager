(("undefined"!==typeof self?self:this)["webpackJsonpappForm"]=("undefined"!==typeof self?self:this)["webpackJsonpappForm"]||[]).push([[12],{"3dfd":function(e,t,i){"use strict";i.r(t);var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"app-form",attrs:{id:"app"}},[e.$store.state.mode?i("div",{attrs:{id:"nav"}}):e._e(),i("b-container",{staticClass:"app-container",attrs:{fluid:"md"}},[i("router-view")],1)],1)},a=[],s=i("8bbf"),o=i.n(s),d=i("021a"),r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("b-modal",{ref:"addForm",attrs:{size:"lg",id:"modal-addForm--"+e.idModal,title:"Ajouter un champs dans cette etape","hide-footer":"","content-class":["mange-add-field"]},on:{ok:e.handleOk},model:{value:e.isOpen,callback:function(t){e.isOpen=t},expression:"isOpen"}},[i("form",{ref:"forme",on:{submit:e.handleSubmit,reset:e.resetModal,hidden:e.resetModal}},[i("b-row",{},[i("b-col",{attrs:{md:"6"}},[e.dynamicfield?e._e():i("b-form-group",{attrs:{label:"Sélectionner un type de champs","invalid-feedback":"type is required"}},[i("b-form-select",{attrs:{options:e.typeOptions,required:""},model:{value:e.field.type,callback:function(t){e.$set(e.field,"type",t)},expression:"field.type"}})],1),e.dynamicfield?i("b-form-group",{attrs:{label:"Formulaire","invalid-feedback":"type is required"}},[i("b-form-select",{attrs:{options:e.formItems,required:""},model:{value:e.typeFormId,callback:function(t){e.typeFormId=t},expression:"typeFormId"}})],1):e._e()],1),i("b-col",{attrs:{md:"6"}},[i("b-form-group",{attrs:{isOverride:e.isOverride}},[i("b-form-checkbox",{attrs:{switch:"",size:"lg"},model:{value:e.dynamicfield,callback:function(t){e.dynamicfield=t},expression:"dynamicfield"}},[e._v(" Champs dynamique ")])],1)],1)],1),i("div",{staticClass:"content-config-field"},[e.dynamicfield?e._e():i("input-option-form",{attrs:{type:e.field.type,field:e.field}}),e.dynamicfield?i("div",[i("hr"),i("b-form-group",{attrs:{label:"Sélectionner le champs dynamique","invalid-feedback":"type is required"}},[i("b-form-select",{attrs:{options:e.OptionDynamicsField},on:{change:e.selectDynamicLabel},model:{value:e.field.name,callback:function(t){e.$set(e.field,"name",t)},expression:"field.name"}})],1),i("compositeHeaderField",{attrs:{field:e.field}})],1):e._e()],1),i("b-row",{attrs:{"align-h":"end"}},[i("div",{staticClass:"mr-3"},[i("b-button",{staticClass:"mr-2",attrs:{type:"submit",variant:"primary"}},[e._v(" "+e._s(e.nameButtonOk)+" ")])],1)])],1)])},l=[],c=i("276c"),f=i("f3f3"),u=(i("a9e3"),i("159b"),i("b0c0"),i("2f62")),m=i("4fa8"),p=i("d3ee"),h=i("2c10"),y=i("f158"),b={components:{inputOptionForm:m["a"],compositeHeaderField:p["default"]},props:{nouveau:{type:Boolean,require:!0,default:!0},field:{type:Object,default:function(){return h["a"].field()}},genre:{type:String,default:""},idModal:{type:[String,Number],required:!0}},data:function(){return{isOpen:!1,typeFieldSelected:null,type:null,labelState:null,typeOptions:h["a"].typeOptions(),OptionDynamicsField:[],dynamicfield:!1,typeFormId:"",DynamicFields:[]}},watch:{dynamicfield:function(){this.watchDynamicFields()},typeFormId:function(){this.loadDynamicFields()}},computed:Object(f["a"])(Object(f["a"])(Object(f["a"])({},Object(u["b"])(["formDatas"])),Object(u["c"])(["items","formId"])),{},{nameButtonOk:function(){return this.nouveau?"Ajouter":"Mettre à jour"},formItems:function(){var e=[];return this.items.forEach((function(t){e.push({text:t.name,value:t.id})})),e},isOverride:function(){return this.init(),!!this.field.override}}),methods:{init:function(){this.typeFormId=this.formId,this.field.override&&(this.dynamicfield=!0)},optionAddToFields:function(){var e=function e(t){Object(c["a"])(this,e),this.hauteur=t},t=new e(this.field),i={};for(var n in t.hauteur)i[n]=t.hauteur[n];this.formDatas.fields.push(i),h["a"].resetField(this.field)},resetModal:function(){this.type=null},handleOk:function(e){e.preventDefault(),this.handleSubmit()},handleSubmit:function(e){var t=this;e.preventDefault(),this.isOpen=!this.isOpen,this.nouveau&&this.optionAddToFields(),this.$emit("input_to_add",this.field),this.$nextTick((function(){t.$bvModal.hide("modal-prevent-closing")}))},watchDynamicFields:function(){this.dynamicfield?this.loadDynamicFields():this.typeOptions=h["a"].typeOptions()},loadDynamicFields:function(){var e=this,t=" select * from appformmanager_fields ";this.typeFormId&&(t+=" where formid='"+this.typeFormId+"'"),y["a"].getData(t).then((function(t){var i=[];e.DynamicFields=[],t.data.forEach((function(t){var n=JSON.parse(t.jsonfield);e.DynamicFields.push(n),i.push({value:t.machine_name,text:n.label})})),e.OptionDynamicsField=i}))},selectDynamicLabel:function(e){for(var t in this.DynamicFields){var i=this.DynamicFields[t];if(i.name==e){this.$emit("update_current_field",JSON.stringify(i));break}}}}},v=b,F=(i("f67f"),i("2877")),O=Object(F["a"])(v,r,l,!1,null,null,null),D=O.exports;o.a.component("loaderIcon",d["a"]),o.a.component("AddFormField",D);var k={name:"App"},_=k,g=(i("5c0b"),Object(F["a"])(_,n,a,!1,null,null,null));t["default"]=g.exports},"5c0b":function(e,t,i){"use strict";i("9c0c")},"64d1":function(e,t,i){},"9c0c":function(e,t,i){},f67f:function(e,t,i){"use strict";i("64d1")}}]);
//# sourceMappingURL=appForm.umd.min.12.js.map