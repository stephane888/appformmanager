(("undefined"!==typeof self?self:this)["webpackJsonpappForm"]=("undefined"!==typeof self?self:this)["webpackJsonpappForm"]||[]).push([[4],{7533:function(e,t,a){},"9a99":function(e,t,a){"use strict";a("7533")},a15b:function(e,t,a){"use strict";var n=a("23e7"),o=a("44ad"),i=a("fc6a"),r=a("a640"),s=[].join,l=o!=Object,c=r("join",",");n({target:"Array",proto:!0,forced:l||!c},{join:function(e){return s.call(i(this),void 0===e?",":e)}})},a4d6:function(e,t,a){"use strict";a.d(t,"a",(function(){return p}));var n=function(){return n=Object.assign||function(e){for(var t,a=1,n=arguments.length;a<n;a++)for(var o in t=arguments[a],t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},n.apply(this,arguments)};Object.create;Object.create;var o=function(){return o=Object.assign||function(e){for(var t,a=1,n=arguments.length;a<n;a++)for(var o in t=arguments[a],t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},o.apply(this,arguments)};Object.create;Object.create;function i(e){return e.toLowerCase()}var r=[/([a-z0-9])([A-Z])/g,/([A-Z])([A-Z][a-z])/g],s=/[^A-Z0-9]+/gi;function l(e,t){void 0===t&&(t={});var a=t.splitRegexp,n=void 0===a?r:a,o=t.stripRegexp,l=void 0===o?s:o,u=t.transform,p=void 0===u?i:u,f=t.delimiter,m=void 0===f?" ":f,d=c(c(e,n,"$1\0$2"),l,"\0"),v=0,b=d.length;while("\0"===d.charAt(v))v++;while("\0"===d.charAt(b-1))b--;return d.slice(v,b).split("\0").map(p).join(m)}function c(e,t,a){return t instanceof RegExp?e.replace(t,a):t.reduce((function(e,t){return e.replace(t,a)}),e)}function u(e,t){return void 0===t&&(t={}),l(e,o({delimiter:"."},t))}function p(e,t){return void 0===t&&(t={}),u(e,n({delimiter:"_"},t))}},b9f1:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"accordion",attrs:{role:"tablist"}},[a("b-card",{staticClass:"mb-1",attrs:{"no-body":""}},[a("b-card-header",{staticClass:"p-1",attrs:{"header-tag":"header",role:"tab"}},[a("b-button",{directives:[{name:"b-toggle",rawName:"v-b-toggle.accordion-2",modifiers:{"accordion-2":!0}}],attrs:{block:"",variant:"info"}},[e._v(" Condition d'affichage ")])],1),a("b-collapse",{attrs:{id:"accordion-2",accordion:"my-accordion",role:"tabpanel",visible:""}},[a("b-card-body",[a("div",{staticClass:"mb-3"},[a("b-button",{attrs:{variant:"outline-primary",size:"sm"},on:{click:e.addCondition}},[e._v(" + Ajouter une condition ")])],1),e._l(e.formDatas.states,(function(t,n){return a("div",{key:n,staticClass:"border pt-3 pl-0 pr-0 mb-3 bg-light"},[a("div",{staticClass:"d-flex w-100 align-items-center"},[a("div",{staticClass:"svg-content px-2"},[a("b-button",{staticClass:"m-0 p-0",attrs:{variant:"transparent"}},[a("b-icon",{attrs:{icon:"arrows-move"}})],1)],1),a("div",{staticClass:"content-action"},[a("b-form-group",{attrs:{label:"Action","label-for":"input-lazy","label-size":"sm","label-cols":"4"}},[a("b-form-select",{attrs:{options:e.optionsAction,size:"sm"},model:{value:t.action,callback:function(a){e.$set(t,"action",a)},expression:"condition.action"}})],1),a("b-form-group",{attrs:{label:"si l'etape ","label-for":"input-lazy","label-size":"sm","label-cols":"4"}},[a("b-form-select",{attrs:{options:e.listeDesEtapes,size:"sm"},model:{value:t.state_name,callback:function(a){e.$set(t,"state_name",a)},expression:"condition.state_name"}})],1),a("b-form-group",{attrs:{label:"si le champs ","label-for":"input-lazy","label-size":"sm","label-cols":"4"}},[a("b-form-select",{attrs:{options:e.listeDesChamps(t),size:"sm"},model:{value:t.name,callback:function(a){e.$set(t,"name",a)},expression:"condition.name"}})],1),a("b-form-group",{attrs:{label:"est","label-for":"input-lazy","label-size":"sm","label-cols":"4"}},[a("b-form-select",{attrs:{options:e.listsOperators,size:"sm"},model:{value:t.operator,callback:function(a){e.$set(t,"operator",a)},expression:"condition.operator"}})],1),"egal"!=t.operator&&">"!=t.operator&&"<"!=t.operator||t.options&&0!==t.options.length?e._e():a("b-form-group",{attrs:{label:"valeur","label-for":"input-lazy","label-size":"sm","label-cols":"4"}},[a("b-form-input",{attrs:{required:"",size:"sm"},model:{value:t.value,callback:function(a){e.$set(t,"value",a)},expression:"condition.value"}})],1),"egal"==t.operator&&t.options&&t.options.length>0?a("b-form-group",{attrs:{label:"valeur","label-for":"input-lazy","label-size":"sm","label-cols":"4"}},[a("b-form-select",{attrs:{options:t.options,size:"sm"},model:{value:t.value,callback:function(a){e.$set(t,"value",a)},expression:"condition.value"}})],1):e._e(),"taxo_term_parent"==t.operator?a("b-form-group",{attrs:{label:"Id du terme parent","label-for":"input-lazy","label-size":"sm","label-cols":"4",description:"L'uid provenant de la table taxonomy_term_data"}},[a("b-form-input",{attrs:{required:"",size:"sm"},model:{value:t.value,callback:function(a){e.$set(t,"value",a)},expression:"condition.value"}})],1):e._e(),"taxo_term_parent"==t.operator?a("b-form-group",{attrs:{label:"doit etre ","label-for":"input-lazy","label-size":"sm","label-cols":"4"}},[a("b-form-select",{attrs:{required:"",size:"sm",options:e.options_terms},model:{value:t.term_condition,callback:function(a){e.$set(t,"term_condition",a)},expression:"condition.term_condition"}})],1):e._e()],1),a("div",{staticClass:"svg-content"},[a("b-button",{staticClass:"m-0 p-0",attrs:{variant:"transparent"},on:{click:function(t){return e.deleteState(n)}}},[a("b-icon",{staticClass:"px-2",attrs:{icon:"trash",variant:"danger"}})],1)],1)])])}))],2)],1)],1)],1)},o=[],i=a("f3f3"),r=(a("a15b"),a("a434"),a("b0c0"),a("e412")),s=a("2f62"),l={name:"ValidationFields",data:function(){return{options:[{text:"Le champs est requis",value:"required"},{text:"Le champ ne peut contenir que des caractères alphabétiques.",value:"alpha"},{text:"Le champ doit être un email valide.",value:"email"},{text:"Le champ doit être une valeur numerique",value:"numeric"}],selected:[],listsOperators:r["b"].listsOperators(),optionsAction:r["b"].Action("Cette etape"),form_validation_options:[],options_terms:[{text:"egal",value:"="},{text:"different",value:"<>"}]}},watch:{selected:function(){this.formDatas.require=this.selected.join("|")}},computed:Object(i["a"])(Object(i["a"])(Object(i["a"])({},Object(s["b"])(["formDatas"])),Object(s["c"])(["form"])),{},{listeDesEtapes:function(){var e=[];return r["b"].listesEtapes(this.form,this.formDatas,e),e}}),methods:{addCondition:function(){this.formDatas.states||this.$set(this.formDatas,"states",[]),this.formDatas.states.push(r["b"].conditions())},deleteState:function(e){this.formDatas.states.splice(e,1)},listeDesChamps:function(e){var t=[];if(e.state_name&&""!==e.state_name){var a=r["b"].getFormStateByName(e.state_name,this.form.forms);if(void 0!==a)for(var n in a.fields){var o=a.fields[n];e.name==o.name&&o.options.length&&(e.options=o.options),t.push({text:o.label,value:o.name})}}return t},put_form_validation_options:function(e){this.form_validation_options=e}}},c=l,u=(a("9a99"),a("2877")),p=Object(u["a"])(c,n,o,!1,null,"bb31d10a",null);t["a"]=p.exports},e412:function(e,t,a){"use strict";a.d(t,"b",(function(){return r})),a.d(t,"a",(function(){return s}));var n=a("276c"),o=a("e954"),i=(a("b0c0"),a("caad"),a("2532"),a("f158")),r={conditions:function(){return{action:"",name:"",operator:"",value:"",state_name:""}},listsOperators:function(){return[{text:"Validé",value:"validated"},{text:"non vide",value:"not_empty"},{text:" vide",value:"empty"},{text:"la valeur du champs est egal à",value:"egal"},{text:"la valeur du champs est superieur à",value:">"},{text:"la valeur du champs est inferieur à",value:"<"},{text:"Term parent",value:"taxo_term_parent"}]},Action:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Ce champs";return[{text:e+" est visible",value:"visible"},{text:e+" est caché",value:"hidden"}]},computedValidation:function(e,t,a){for(var n in e.fields){var o=e.fields[n];if(o.name!==t.name)for(var r in t.states){var s=t.states[r];if(void 0===a[s.name])return null;if(o.name===s.name&&"visible"===s.action){if(""===o.value&&"not_empty"===s.operator)return!1;if(""!==o.value&&"empty"===s.operator)return!1;if("validated"===s.operator&&a[o.name])return a[o.name].valid;if("egal"===s.operator){if(o.value){if(i["a"].typeSelection.includes(o.type)&&o.value.includes)return!!o.value.includes(s.value);var l=new String(o.value),c=new String(s.value);return 0===l.localeCompare(c)}return!1}if(">"===s.operator){if(o.value){var u=parseInt(o.value),p=parseInt(s.value);return p<u}return!1}}}}},listesEtapes:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(e&&e.forms.length>1)for(var n in e.forms){var o=e.forms[n];""!==o.info.name&&a.push({text:"("+n+") "+o.info.title,value:o.info.name})}},getFormStateByName:function(e,t){for(var a in t){var n=t[a];if(n.info.name===e)return n}},getFieldByName:function(e,t){for(var a in t)if(t[a].name===e)return t[a]}},s=function(){function e(){Object(n["a"])(this,e),this.StepeValidationOptions=[]}return Object(o["a"])(e,[{key:"listeDesChamps",value:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(e.state_name&&""!==e.state_name){var n=r.getFormStateByName(e.state_name,t.forms);if(void 0!==n)for(var o in n.fields){var i=n.fields[o];e.name==i.name&&i.options.length&&(this.StepeValidationOptions=i.options),a.push({text:i.label,value:i.name})}}}}]),e}()}}]);
//# sourceMappingURL=appForm.umd.min.4.js.map