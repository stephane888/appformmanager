(("undefined"!==typeof self?self:this)["webpackJsonpappForm"]=("undefined"!==typeof self?self:this)["webpackJsonpappForm"]||[]).push([[5],{"0b7d":function(t,e,i){"use strict";var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"element-center full-block"},[i("div",{staticClass:"choice-section text-right"},[i("b-row",{attrs:{"align-h":"end"}},[i("b-col",[i("p",{staticClass:"button-travaux"},[i("a",{attrs:{href:"/node/52"}},[t._v("Tous les travaux")])])])],1),t.mode?i("b-button-group",{staticClass:"boutton-absolute"},[i("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.v-info",modifiers:{hover:!0,"v-info":!0}}],attrs:{variant:"outline-info",size:"md",title:"Ajouter un champs"},on:{click:t.addFormField}},[i("b-icon",{staticStyle:{"font-size":"1.5rem"},attrs:{icon:"plus"}})],1),i("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.v-success",modifiers:{hover:!0,"v-success":!0}}],attrs:{variant:"outline-success",size:"md",title:"Editer le formulaire"},on:{click:t.configSteps}},[i("b-icon",{attrs:{icon:"pencil"}})],1),i("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.v-danger",modifiers:{hover:!0,"v-danger":!0}}],attrs:{variant:"outline-danger",size:"md",title:"Suprimer le formulaire"},on:{click:t.deleteSteps}},[i("b-icon",{attrs:{icon:"trash"}})],1),i("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.clone-current-stepe",modifiers:{"clone-current-stepe":!0}},{name:"b-tooltip",rawName:"v-b-tooltip.hover.v-secondary",modifiers:{hover:!0,"v-secondary":!0}}],attrs:{variant:"outline-secondary",size:"md",title:"cloner l'etape"}},[i("b-icon",{attrs:{icon:"clipboard-plus"}})],1)],1):t._e()],1),i("forms"),t.mode?i("div",[i("add-form-field",{attrs:{isOpen:t.modalFormFieldIsOpen,nouveau:!0,"id-modal":"form-step"}}),i("StepConfiguration",{ref:"StepConfiguration"}),i("cloneCurrentStepe")],1):t._e()],1)},a=[],o=i("f3f3"),n=(i("e260"),i("d3b7"),i("e6cf"),i("3ca3"),i("ddb0"),i("a434"),i("2f62")),r=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ValidationObserver",{staticClass:"center-container",scopedSlots:t._u([{key:"default",fn:function(e){return[s("b-row",{staticClass:"block-container",attrs:{"align-h":"center"}},[t.stepsIndex>0?s("b-col",{staticClass:"text-left",attrs:{cols:"12"}},[s("div",{staticClass:"backButton",on:{click:t.back}},[s("img",{attrs:{src:i("6416"),alt:""}})])]):t._e(),t.formDatas.info.headerTitle&&t.formDatas.info.description?s("div",{staticClass:"help-container"},[s("div",{staticClass:"help-block"},[s("p",{staticClass:"help-block__title"},[t._v(t._s(t.formDatas.info.headerTitle))]),s("p",{staticClass:"help-block__content"},[t._v(" "+t._s(t.formDatas.info.description)+" ")])])]):t._e(),t._l(t.formDatas.fields,(function(t,e){return s("div",{key:e,staticClass:"col-12"},[s("display-fields",{attrs:{type:t.type,id:e}})],1)})),t.StatusStepsIndexs?s("b-col",{staticClass:"form-nav-bouton",attrs:{cols:"12"}},[s("button",{staticClass:"next-bouton",class:t.stepsState&&!e.invalid?"next-bouton--active":"next-bouton--disable",attrs:{disabled:!(t.stepsState&&!e.invalid)},on:{click:t.suivant}},[t._v(" Suivant ")])]):t._e(),t.StatusStepsIndexs?t._e():s("b-col",{staticClass:"form-nav-bouton",attrs:{cols:"12"}},[s("b-row",[t.uid?s("b-col",[s("button",{staticClass:"next-bouton",on:{click:function(e){return t.SaveByUser(1)}}},[s("b-icon",{attrs:{icon:"server"}}),t._v(" Enregistrer ")],1)]):t._e(),s("b-col",[s("button",{staticClass:"next-bouton",on:{click:function(e){return t.SaveByUser(0)}}},[s("b-icon",{attrs:{icon:"server"}}),t._v(" Me rappeller ")],1)])],1)],1)],2),s("getStatusValidation",{attrs:{"validation-observer":e}}),s("add-form-field",{attrs:{fields:{},nouveau:!1,"id-modal":"edit"}})]}}])})},l=[],c=i("7bb1"),d=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",["codepostal"==t.type?i("b-row",{attrs:{"align-h":"center"}},[i("b-col",[i("autocomplete",{attrs:{field:t.formDatas.fields[t.id]}})],1)],1):t._e(),"checkboximg"==t.type?i("ImageCheck",{attrs:{field:t.formDatas.fields[t.id]}}):t._e(),"text"==t.type||"number"==t.type?i("label-row",{attrs:{field:t.formDatas.fields[t.id]}}):t._e(),"numberup"==t.type?i("label-up",{attrs:{field:t.formDatas.fields[t.id]}}):t._e(),"increment"==t.type?i("b-row",{attrs:{"align-h":"center"}},[i("increment-number",{attrs:{field:t.formDatas.fields[t.id]}})],1):t._e(),"markuptitle"==t.type?i("markup-title",{attrs:{field:t.formDatas.fields[t.id]}}):t._e(),"markupimage"==t.type?i("markup-image",{attrs:{field:t.formDatas.fields[t.id]}}):t._e(),"radio"==t.type?i("div",[i("radio",{attrs:{field:t.formDatas.fields[t.id]}})],1):t._e(),"select"==t.type?i("select-display",{attrs:{field:t.formDatas.fields[t.id]}}):t._e(),"checkbox"==t.type?i("checkbox",{attrs:{field:t.confirmStructureField(t.formDatas.fields[t.id])}}):t._e(),"radiodesc"==t.type?i("radio-desc",{attrs:{field:t.formDatas.fields[t.id]}}):t._e(),"file"==t.type?i("files",{attrs:{field:t.formDatas.fields[t.id]}}):t._e(),"recapitulatif"==t.type?i("recapitulatif",{attrs:{field:t.formDatas.fields[t.id]}}):t._e(),"userlogin"==t.type?i("userlogin",{attrs:{field:t.formDatas.fields[t.id]}}):t._e(),"input-aide-financiere"==t.type?i("AideFinanciere",{attrs:{field:t.formDatas.fields[t.id]}}):t._e(),this.$store.state.mode?i("div",{staticClass:"boutton-absolute d-flex"},[i("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.v-success",modifiers:{hover:!0,"v-success":!0}}],staticClass:"border-0",attrs:{size:"sm",variant:"outline-success",title:"Editer ce champs"},on:{click:t.editFormField}},[i("b-icon",{attrs:{icon:"pencil","font-scale":"1"}})],1),i("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.v-danger",modifiers:{hover:!0,"v-danger":!0}}],staticClass:"border-0",attrs:{size:"sm",variant:"outline-danger",title:"Supprimer ce champs"},on:{click:t.deleteField}},[i("b-icon",{attrs:{icon:"trash","font-scale":"1"}})],1),i("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.v-secondary",modifiers:{hover:!0,"v-secondary":!0}}],staticClass:"border-0",attrs:{size:"sm",variant:"outline-secondary",title:"Deplacer vers le haut"},on:{click:t.modeToUp}},[i("b-icon",{attrs:{icon:"arrow-bar-up","font-scale":"1"}})],1),i("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.v-secondary",modifiers:{hover:!0,"v-secondary":!0}}],staticClass:"border-0",attrs:{size:"sm",variant:"outline-secondary",title:"Deplacer vers le bas"},on:{click:t.moveToDown}},[i("b-icon",{attrs:{icon:"arrow-bar-down","font-scale":"1"}})],1),i("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.v-secondary",modifiers:{hover:!0,"v-secondary":!0}}],staticClass:"border-0",attrs:{size:"sm",variant:"outline-secondary",title:"Cloner ce champs"},on:{click:t.cloneField}},[i("b-icon",{attrs:{icon:"clipboard-plus","font-scale":"1"}})],1)],1):t._e()],1),i("add-form-field",{ref:"editFormField"+t.id,attrs:{field:t.field,nouveau:!1,"id-modal":"edit"+t.id}})],1)},u=[],f=i("0122"),m=(i("a9e3"),i("2c10")),p={components:{ImageCheck:function(){return i.e(12).then(i.bind(null,"820b"))},IncrementNumber:function(){return i.e(13).then(i.bind(null,"1ad8"))},autocomplete:function(){return Promise.all([i.e(24),i.e(32)]).then(i.bind(null,"fd80"))},Radio:function(){return i.e(18).then(i.bind(null,"8bfb"))},RadioDesc:function(){return i.e(27).then(i.bind(null,"795e"))},Checkbox:function(){return i.e(26).then(i.bind(null,"7f81"))},LabelRow:function(){return i.e(14).then(i.bind(null,"ab64"))},SelectDisplay:function(){return i.e(28).then(i.bind(null,"1d25"))},MarkupTitle:function(){return i.e(17).then(i.bind(null,"725b"))},MarkupImage:function(){return i.e(16).then(i.bind(null,"1c8e"))},files:function(){return Promise.all([i.e(0),i.e(25)]).then(i.bind(null,"65db"))},LabelUp:function(){return i.e(15).then(i.bind(null,"cc4c"))},recapitulatif:function(){return i.e(21).then(i.bind(null,"1247"))},userlogin:function(){return i.e(22).then(i.bind(null,"be10"))},AideFinanciere:function(){return i.e(23).then(i.bind(null,"e8d9"))}},props:{type:{type:String,default:""},id:{type:Number,default:null}},data:function(){return{typeFieldSelected:null,option:{},field:{},labelState:null}},watch:{},computed:Object(o["a"])({},Object(n["b"])(["formDatas"])),methods:{confirmStructureField:function(t){if("checkbox"===t.type){var e=[],i=Object(f["a"])(t.value);"object"!==i&&(t.value&&""!==t.value?(e.push(t.value),t.value=e):t.value=[])}return t},getImage:function(t){var e=this.formDatas.fields[this.id].options;console.log("le",e);for(var i=0;i<e.length;i++)i==t?(e[i].isActive=!e[i].isActive,this.formDatas.fields[this.id].value=e[i].value):e[i].isActive=!1},editFormField:function(){var t="modal-addForm--edit"+this.id;this.field=this.formDatas.fields[this.id],this.$bvModal.show(t)},deleteField:function(){for(var t=this.formDatas.fields,e=t.length-1;e>=0;e--)e===this.id&&(t.splice(e,1),console.log("iiippp"))},moveToDown:function(){var t=this.id+1;m["a"].array_move(this.formDatas.fields,this.id,t)},modeToUp:function(){var t=this.id-1;m["a"].array_move(this.formDatas.fields,this.id,t)},cloneField:function(){var t=JSON.stringify(this.formDatas.fields[this.id]);this.formDatas.fields.push(JSON.parse(t))}}},b=p,v=i("2877"),h=Object(v["a"])(b,d,u,!1,null,null,null),g=h.exports,_=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{object:t.validationObserverField}},[i("pre",{staticClass:"text-left d-none"},[t._v(t._s(t.formDatasValidate))])])},y=[],D={name:"getStatusValidation",props:{validationObserver:{type:Object,required:!0}},components:{},data:function(){return{}},mounted:function(){},watch:{},computed:Object(o["a"])(Object(o["a"])({},Object(n["c"])(["formDatasValidate"])),{},{validationObserverField:function(){return this.validationObserver.fields?(this.setFormDatasValidate(),this.validationObserver.fields):{}}}),methods:{setFormDatasValidate:function(){this.$store.dispatch("setFormDatasValidate",this.validationObserver.fields)}}},k=D,C=Object(v["a"])(k,_,y,!1,null,"d99bc1b4",null),x=C.exports,O={name:"forms",components:{ValidationObserver:c["a"],DisplayFields:g,getStatusValidation:x},computed:Object(o["a"])(Object(o["a"])(Object(o["a"])({},Object(n["c"])(["form","mode","stepsIndex","StatusStepsIndexs","price"])),Object(n["b"])(["formDatas","uid"])),{},{stepsState:function(){return!!(this.form.forms&&this.form.forms.length-1>this.$store.state.stepsIndex)}}),methods:{suivant:function(){if(this.stepsState){this.$store.dispatch("stepsIndex",this.stepsIndex);var t=!0;this.mode&&!t||this.$store.dispatch("saveDatas")}},back:function(){this.$store.dispatch("stepsBack")},SaveByUser:function(t){this.$store.dispatch("saveDatasUser",t)}}},w=O,S=(i("ee83"),Object(v["a"])(w,r,l,!1,null,null,null)),F=S.exports,j={components:{StepConfiguration:function(){return Promise.all([i.e(4),i.e(33)]).then(i.bind(null,"e248"))},cloneCurrentStepe:function(){return Promise.all([i.e(4),i.e(34)]).then(i.bind(null,"33f3"))},forms:F},data:function(){return{modalFormFieldIsOpen:!1,inputDatas:[],selected:"",options:[{text:"chamblie",value:"a"},{text:"callakala",value:"b"}],imageCheck:[{isActive:!1,description:"1 côté"},{isActive:!1,description:"2 côté"},{isActive:!1,description:"3 côté"},{isActive:!1,description:"4 côté"}]}},watch:{fields:function(){console.log("changement")}},computed:Object(o["a"])(Object(o["a"])(Object(o["a"])({},Object(n["c"])(["mode","stepsIndex","stepsIndexs","form"])),Object(n["b"])(["formDatas"])),{},{taille:function(){return!!this.fields.options.length}}),methods:{deleteSteps:function(){for(var t=this.$store.getters.form.forms,e=t.indexOf(this.formDatas),i=t.length-1;i>=0;i--)i===e&&(t.splice(i,1),this.$store.state.stepsIndex=this.form.forms.length-1)},addFormField:function(){var t="modal-addForm--form-step";this.$bvModal.show(t)},configSteps:function(){this.$refs.StepConfiguration.openPopUp()},getImage:function(t){for(var e=0;e<this.imageCheck.length;e++)this.imageCheck[e].isActive=e==t&&!this.imageCheck[e].isActive}}},I=j,$=Object(v["a"])(I,s,a,!1,null,null,null);e["a"]=$.exports},"63c9":function(t,e,i){"use strict";var s=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("b-row",{attrs:{"align-h":"center"}},[s("b-col",{attrs:{lg:t.conf.col?"12":"10",cols:"12"}},[s("div",{staticClass:"block-title pr-2"},[s("div",{staticClass:"backButton",attrs:{to:"/"},on:{click:t.returnHome}},[s("img",{attrs:{src:i("6416"),alt:"",width:"55px",height:"30px"}})]),s("h5",{staticClass:"m-0"},[t._v(" "+t._s(t.conf.text)+" "),t.form.name?s("span",{staticClass:"form-title"},[t._v(" : "+t._s(t.form.name))]):t._e()]),s("div",[s("h5",{directives:[{name:"show",rawName:"v-show",value:t.showDevis,expression:"showDevis"}],staticClass:"m-0",class:t.uid?"title-right":"",on:{click:t.seeDevis}},[t.uid?s("span",[t._v(" Voir mes devis")]):t._e()])])])])],1)},a=[],o=i("f3f3"),n=i("2f62"),r={props:{showDevis:{type:Boolean,default:!0},conf:{type:Object,default:function(){return{col:!1,text:"Estimation de devis"}}}},data:function(){return{value:1}},computed:Object(o["a"])(Object(o["a"])({},Object(n["c"])(["stepsIndex","form"])),Object(n["b"])(["uid"])),methods:{returnHome:function(){this.$router.push({path:"/"})},seeDevis:function(){this.$router.push({path:"/traitement-my-own/".concat(this.id)})}}},l=r,c=i("2877"),d=Object(c["a"])(l,s,a,!1,null,null,null);e["a"]=d.exports},6416:function(t,e,i){t.exports=i.p+"img/long-arrow-alt-left-solid.d9d4427b.svg"},"75eb":function(t,e,i){},ee83:function(t,e,i){"use strict";i("75eb")}}]);
//# sourceMappingURL=appForm.umd.min.5.js.map