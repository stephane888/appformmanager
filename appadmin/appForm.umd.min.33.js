(("undefined"!==typeof self?self:this)["webpackJsonpappForm"]=("undefined"!==typeof self?self:this)["webpackJsonpappForm"]||[]).push([[33],{"63c9":function(t,e,i){"use strict";var s=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("b-row",{attrs:{"align-h":"center"}},[s("b-col",{attrs:{lg:t.conf.col?"12":"10",cols:"12"}},[s("div",{staticClass:"block-title pr-2"},[s("div",{staticClass:"backButton",attrs:{to:"/"},on:{click:t.returnHome}},[s("img",{attrs:{src:i("6416"),alt:"",width:"55px",height:"30px"}})]),s("h5",{staticClass:"m-0"},[t._v(" "+t._s(t.conf.text)+" "),t.form.name?s("span",{staticClass:"form-title"},[t._v(" : "+t._s(t.form.name))]):t._e()]),s("div",[s("h5",{directives:[{name:"show",rawName:"v-show",value:t.showDevis,expression:"showDevis"}],staticClass:"m-0",class:t.uid?"title-right":"",on:{click:t.seeDevis}},[t.uid?s("span",[t._v(" Voir mes devis")]):t._e()])])])])],1)},o=[],n=i("f3f3"),r=i("2f62"),a={props:{showDevis:{type:Boolean,default:!0},conf:{type:Object,default:function(){return{col:!1,text:"Estimation de devis"}}}},data:function(){return{value:1}},computed:Object(n["a"])(Object(n["a"])({},Object(r["c"])(["stepsIndex","form"])),Object(r["b"])(["uid"])),methods:{returnHome:function(){this.$router.push({path:"/"})},seeDevis:function(){this.$router.push({path:"/traitement-my-own/".concat(this.id)})}}},l=a,f=i("2877"),c=Object(f["a"])(l,s,o,!1,null,null,null);e["a"]=c.exports},6416:function(t,e,i){t.exports=i.p+"img/long-arrow-alt-left-solid.d9d4427b.svg"},abee:function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("title-bar",{attrs:{conf:{col:!0,text:"Gestion des champs"}}}),i("Filtre",{attrs:{listForms:t.listForms}}),i("tableauChamps",{attrs:{listForms:t.listForms}})],1)},o=[],n=(i("d3b7"),i("e6cf"),i("e260"),i("3ca3"),i("ddb0"),i("159b"),i("b0c0"),i("63c9")),r=i("f3f3"),a=i("f158"),l={state:function(){return{fields:[],filtre:{formid:""},loaders:{GestionField:!1,GestionFieldFiltre:!1}}},mutations:{SET_FIELDS:function(t,e){e.forEach((function(e){t.fields.push(Object(r["a"])(Object(r["a"])({},JSON.parse(e.jsonfield)),{},{id:e.id}))}))},SET_FILTRE:function(t,e){t.filtre[e.key]=e.value}},actions:{GetFields:function(t){var e=t.commit,i=t.state,s=t.dispatch;i.loaders.GestionField=!0,i.loaders.GestionFieldFiltre=!0,i.fields=[];var o=" select * from `appformmanager_fields` as f ";if(i.filtre.formid)return o+=" where f.formid='"+i.filtre.formid+"' order by f.id DESC ",a["a"].getData(o).then((function(t){e("SET_FIELDS",t.data),i.loaders.GestionField=!1,s("GetFieldsDefault")})).catch((function(){i.loaders.GestionField=!1,i.loaders.GestionFieldFiltre=!1}))},GetFieldsDefault:function(t){var e=t.state,i=" select f.defaultjson from `appformmanager_steps_fields` as f ";if(""!==e.filtre.formid)return i+=" where f.defaultjson is not null and f.formid="+e.filtre.formid+"  order by f.stepid ASC  ",a["a"].getData(i).then((function(t){t.data.forEach((function(t){e.fields.push(Object(r["a"])(Object(r["a"])({},JSON.parse(t.defaultjson)),{},{formid:e.filtre.formid}))})),e.loaders.GestionFieldFiltre=!1})).catch((function(){e.loaders.GestionFieldFiltre=!1}))},SetFiltre:function(t,e){var i=t.commit;i("SET_FILTRE",e)}}},f={name:"GestionFields",components:{TitleBar:n["a"],Filtre:function(){return new Promise((function(t){t(Promise.all([i.e(0),i.e(1),i.e(22)]).then(i.bind(null,"70f9")))}))},tableauChamps:function(){return new Promise((function(t){t(Promise.all([i.e(0),i.e(1),i.e(23)]).then(i.bind(null,"f28f")))}))}},data:function(){return{listForms:[]}},mounted:function(){var t=this;this.$store.registerModule("StoreGestionChamps",l),this.$store.dispatch("loadFormsDatas").then((function(){t.$store.state.items.forEach((function(e){t.listForms.push({value:e.id,text:e.name})}))}))}},c=f,d=i("2877"),u=Object(d["a"])(c,s,o,!1,null,null,null);e["default"]=u.exports}}]);
//# sourceMappingURL=appForm.umd.min.33.js.map