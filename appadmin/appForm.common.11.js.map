{"version":3,"sources":["webpack://appForm/./src/App.vue?eeff","webpack://appForm/./src/App/AddFormField.vue?0ebc","webpack://appForm/src/App/AddFormField.vue","webpack://appForm/./src/App/AddFormField.vue?fd87","webpack://appForm/./src/App/AddFormField.vue","webpack://appForm/src/App.vue","webpack://appForm/./src/App.vue?1160","webpack://appForm/./src/App.vue","webpack://appForm/./src/App.vue?c650","webpack://appForm/./src/App/AddFormField.vue?b132","webpack://appForm/./src/App.vue?a4a9","webpack://appForm/./src/App/AddFormField.vue?29a8"],"names":[],"mappings":"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","file":"appForm.common.11.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"app-form\",attrs:{\"id\":\"app\"}},[(_vm.$store.state.mode)?_c('div',{attrs:{\"id\":\"nav\"}}):_vm._e(),_c('b-container',{staticClass:\"app-container\",attrs:{\"fluid\":\"md\"}},[_c('router-view')],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('b-modal',{ref:\"addForm\",attrs:{\"size\":\"lg\",\"id\":'modal-addForm--' + _vm.idModal,\"title\":\"Ajouter un champs dans cette etape\",\"hide-footer\":\"\",\"content-class\":['mange-add-field']},on:{\"ok\":_vm.handleOk},model:{value:(_vm.isOpen),callback:function ($$v) {_vm.isOpen=$$v},expression:\"isOpen\"}},[_c('form',{ref:\"forme\",on:{\"submit\":_vm.handleSubmit,\"reset\":_vm.resetModal,\"hidden\":_vm.resetModal}},[_c('b-row',{},[_c('b-col',{attrs:{\"md\":\"6\"}},[(!_vm.dynamicfield)?_c('b-form-group',{attrs:{\"label\":\"Sélectionner un type de champs\",\"invalid-feedback\":\"type is required\"}},[_c('b-form-select',{attrs:{\"options\":_vm.typeOptions,\"required\":\"\"},model:{value:(_vm.field.type),callback:function ($$v) {_vm.$set(_vm.field, \"type\", $$v)},expression:\"field.type\"}})],1):_vm._e(),(_vm.dynamicfield)?_c('b-form-group',{attrs:{\"label\":\"Formulaire\",\"invalid-feedback\":\"type is required\"}},[_c('b-form-select',{attrs:{\"options\":_vm.formItems,\"required\":\"\"},model:{value:(_vm.typeFormId),callback:function ($$v) {_vm.typeFormId=$$v},expression:\"typeFormId\"}})],1):_vm._e()],1),_c('b-col',{attrs:{\"md\":\"6\"}},[_c('b-form-group',{attrs:{\"isOverride\":_vm.isOverride}},[_c('b-form-checkbox',{attrs:{\"switch\":\"\",\"size\":\"lg\"},model:{value:(_vm.dynamicfield),callback:function ($$v) {_vm.dynamicfield=$$v},expression:\"dynamicfield\"}},[_vm._v(\" Champs dynamique \")])],1)],1)],1),_c('div',{staticClass:\"content-config-field\"},[(!_vm.dynamicfield)?_c('input-option-form',{attrs:{\"type\":_vm.field.type,\"field\":_vm.field}}):_vm._e(),(_vm.dynamicfield)?_c('div',[_c('hr'),_c('b-form-group',{attrs:{\"label\":\"Sélectionner le champs dynamique\",\"invalid-feedback\":\"type is required\"}},[_c('b-form-select',{attrs:{\"options\":_vm.OptionDynamicsField},on:{\"change\":_vm.selectDynamicLabel},model:{value:(_vm.field.name),callback:function ($$v) {_vm.$set(_vm.field, \"name\", $$v)},expression:\"field.name\"}})],1),_c('compositeHeaderField',{attrs:{\"field\":_vm.field}})],1):_vm._e()],1),_c('b-row',{attrs:{\"align-h\":\"end\"}},[_c('div',{staticClass:\"mr-3\"},[_c('b-button',{staticClass:\"mr-2\",attrs:{\"type\":\"submit\",\"variant\":\"primary\"}},[_vm._v(\" \"+_vm._s(_vm.nameButtonOk)+\" \")])],1)])],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <b-modal\n    size=\"lg\"\n    :id=\"'modal-addForm--' + idModal\"\n    ref=\"addForm\"\n    title=\"Ajouter un champs dans cette etape\"\n    hide-footer\n    v-model=\"isOpen\"\n    @ok=\"handleOk\"\n    :content-class=\"['mange-add-field']\"\n  >\n    <form\n      ref=\"forme\"\n      @submit=\"handleSubmit\"\n      @reset=\"resetModal\"\n      @hidden=\"resetModal\"\n    >\n      <b-row class=\"\">\n        <b-col md=\"6\">\n          <b-form-group\n            label=\"Sélectionner un type de champs\"\n            invalid-feedback=\"type is required\"\n            v-if=\"!dynamicfield\"\n          >\n            <b-form-select\n              v-model=\"field.type\"\n              :options=\"typeOptions\"\n              required\n            ></b-form-select>\n          </b-form-group>\n          <b-form-group\n            label=\"Formulaire\"\n            invalid-feedback=\"type is required\"\n            v-if=\"dynamicfield\"\n          >\n            <b-form-select\n              v-model=\"typeFormId\"\n              :options=\"formItems\"\n              required\n            ></b-form-select>\n          </b-form-group>\n        </b-col>\n        <b-col md=\"6\">\n          <b-form-group :isOverride=\"isOverride\">\n            <b-form-checkbox switch size=\"lg\" v-model=\"dynamicfield\">\n              Champs dynamique\n            </b-form-checkbox>\n          </b-form-group>\n        </b-col>\n      </b-row>\n      <!-- !-->\n      <div class=\"content-config-field\">\n        <input-option-form\n          v-if=\"!dynamicfield\"\n          :type=\"field.type\"\n          :field=\"field\"\n        ></input-option-form>\n        <div v-if=\"dynamicfield\">\n          <hr />\n          <b-form-group\n            label=\"Sélectionner le champs dynamique\"\n            invalid-feedback=\"type is required\"\n          >\n            <b-form-select\n              v-model=\"field.name\"\n              :options=\"OptionDynamicsField\"\n              @change=\"selectDynamicLabel\"\n            ></b-form-select>\n          </b-form-group>\n          <compositeHeaderField :field=\"field\"></compositeHeaderField>\n        </div>\n      </div>\n\n      <b-row align-h=\"end\">\n        <div class=\"mr-3\">\n          <b-button type=\"submit\" variant=\"primary\" class=\"mr-2\">\n            {{ nameButtonOk }}\n          </b-button>\n        </div>\n      </b-row>\n    </form>\n  </b-modal>\n</template>\n\n<script>\nimport { mapGetters, mapState } from \"vuex\";\nimport inputOptionForm from \"./inputOptionForm.vue\";\nimport compositeHeaderField from \"./EditsFields/compositeHeaderField.vue\";\nimport Utilities from \"./Utilities.js\";\nimport config from \"./config/config\";\nexport default {\n  components: { inputOptionForm, compositeHeaderField },\n  props: {\n    nouveau: {\n      type: Boolean,\n      require: true,\n      default: true,\n    },\n    field: {\n      type: Object,\n      default: function () {\n        return Utilities.field();\n      },\n    },\n    /**/\n    genre: {\n      type: String,\n      default: \"\",\n    },\n    idModal: {\n      type: [String, Number],\n      required: true,\n    },\n  },\n  data: () => {\n    return {\n      isOpen: false,\n      typeFieldSelected: null,\n      type: null,\n      //datas to check form validity\n      labelState: null,\n      typeOptions: Utilities.typeOptions(),\n      OptionDynamicsField: [],\n      dynamicfield: false,\n      typeFormId: \"\",\n      DynamicFields: [],\n    };\n  },\n  watch: {\n    dynamicfield() {\n      this.watchDynamicFields();\n    },\n    typeFormId() {\n      this.loadDynamicFields();\n    },\n  },\n  computed: {\n    ...mapGetters([\"formDatas\"]),\n    ...mapState([\"items\", \"formId\"]),\n    nameButtonOk() {\n      return this.nouveau ? \"Ajouter\" : \"Mettre à jour\";\n    },\n    formItems() {\n      var r = [];\n      this.items.forEach((item) => {\n        r.push({ text: item.name, value: item.id });\n      });\n      return r;\n    },\n    isOverride() {\n      this.init();\n      if (this.field.override) {\n        return true;\n      }\n      return false;\n    },\n  },\n  methods: {\n    init() {\n      this.typeFormId = this.formId;\n      if (this.field.override) {\n        this.dynamicfield = true;\n      }\n    },\n    optionAddToFields() {\n      class proto {\n        constructor(hauteur) {\n          this.hauteur = hauteur;\n        }\n      }\n      const protoD = new proto(this.field);\n      var sh = {};\n      for (let i in protoD.hauteur) {\n        sh[i] = protoD.hauteur[i];\n      }\n      this.formDatas.fields.push(sh);\n      Utilities.resetField(this.field);\n    },\n    resetModal() {\n      this.type = null;\n    },\n    handleOk(event) {\n      // Prevent modal from closing\n      event.preventDefault();\n      // Trigger submit handler\n      this.handleSubmit();\n    },\n    handleSubmit(event) {\n      event.preventDefault();\n      this.isOpen = !this.isOpen;\n      if (this.nouveau) {\n        this.optionAddToFields();\n      }\n      // Push the name to submitted names\n      this.$emit(\"input_to_add\", this.field);\n      // Hide the modal manually\n      this.$nextTick(() => {\n        this.$bvModal.hide(\"modal-prevent-closing\");\n      });\n    },\n    /**\n     * Charge les options en function du choix de l'utilisateur.\n     */\n    watchDynamicFields() {\n      if (this.dynamicfield) {\n        this.loadDynamicFields();\n      } else this.typeOptions = Utilities.typeOptions();\n    },\n    loadDynamicFields() {\n      var data = \" select * from appformmanager_fields \";\n      if (this.typeFormId) {\n        data += \" where formid='\" + this.typeFormId + \"'\";\n      }\n      config.getData(data).then((resp) => {\n        var results = [];\n        this.DynamicFields = [];\n        resp.data.forEach((item) => {\n          var jsonfield = JSON.parse(item.jsonfield);\n          this.DynamicFields.push(jsonfield);\n          results.push({ value: item.machine_name, text: jsonfield.label });\n        });\n        this.OptionDynamicsField = results;\n      });\n    },\n    selectDynamicLabel(val) {\n      // this.OptionDynamicsField.forEach((option) => {\n      //   if (option.value == val) this.field.label = option.text;\n      // });\n      //on selectionne le champs et on demande sa MAJ.\n      for (const i in this.DynamicFields) {\n        const f = this.DynamicFields[i];\n        if (f.name == val) {\n          this.$emit(\"update_current_field\", JSON.stringify(f));\n          break;\n        }\n      }\n    },\n  },\n};\n</script>\n<style lang=\"scss\">\n.mange-add-field {\n  .content-config-field {\n    min-height: 150px;\n    margin-bottom: 3rem;\n  }\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AddFormField.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AddFormField.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AddFormField.vue?vue&type=template&id=7e5771d3&\"\nimport script from \"./AddFormField.vue?vue&type=script&lang=js&\"\nexport * from \"./AddFormField.vue?vue&type=script&lang=js&\"\nimport style0 from \"./AddFormField.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div id=\"app\" class=\"app-form\">\n    <div id=\"nav\" v-if=\"$store.state.mode\"></div>\n    <b-container fluid=\"md\" class=\"app-container\">\n      <router-view />\n    </b-container>\n  </div>\n</template>\n<script>\nimport Vue from \"vue\";\nimport loaderIcon from \"./App/components/loaderIcon.vue\";\nimport AddFormField from \"./App/AddFormField.vue\";\nVue.component(\"loaderIcon\", loaderIcon);\nVue.component(\"AddFormField\", AddFormField);\nexport default {\n  name: \"App\",\n};\n</script>\n<style lang=\"scss\">\n.app-container {\n  max-width: 950px;\n  box-shadow: 0 0.5rem 1rem rgb(0 0 0 / 15%);\n  padding: 2rem;\n  position: relative;\n  min-height: 100vh;\n}\n</style>\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=8324de3e&\"\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=scss&\"","// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AddFormField.vue?vue&type=style&index=0&lang=scss&\""],"sourceRoot":""}