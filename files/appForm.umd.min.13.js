(("undefined"!==typeof self?self:this)["webpackJsonpappForm"]=("undefined"!==typeof self?self:this)["webpackJsonpappForm"]||[]).push([[13],{9179:function(t,e,a){"use strict";a("d74d")},b9f1:function(t,e,a){"use strict";var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"accordion",attrs:{role:"tablist"}},[a("b-card",{staticClass:"mb-1",attrs:{"no-body":""}},[a("b-card-header",{staticClass:"p-1",attrs:{"header-tag":"header",role:"tab"}},[a("b-button",{directives:[{name:"b-toggle",rawName:"v-b-toggle.accordion-2",modifiers:{"accordion-2":!0}}],attrs:{block:"",variant:"info"}},[t._v(" Condition d'affichage ")])],1),a("b-collapse",{attrs:{id:"accordion-2",accordion:"my-accordion",role:"tabpanel",visible:""}},[a("b-card-body",[a("div",{staticClass:"mb-3"},[a("b-button",{attrs:{variant:"outline-primary",size:"sm"},on:{click:t.addCondition}},[t._v(" + Ajouter une condition ")])],1),t._l(t.formDatas.states,(function(e,o){return a("div",{key:o,staticClass:"border pt-3 pl-0 pr-0 mb-3 bg-light"},[a("div",{staticClass:"d-flex w-100 align-items-center"},[a("div",{staticClass:"svg-content px-2"},[a("b-button",{staticClass:"m-0 p-0",attrs:{variant:"transparent"}},[a("b-icon",{attrs:{icon:"arrows-move"}})],1)],1),a("div",{staticClass:"content-action"},[a("b-form-group",{attrs:{label:"Action","label-for":"input-lazy","label-size":"sm","label-cols":"4"}},[a("b-form-select",{attrs:{options:t.optionsAction,size:"sm"},model:{value:e.action,callback:function(a){t.$set(e,"action",a)},expression:"condition.action"}})],1),a("b-form-group",{attrs:{label:"si l'etape ","label-for":"input-lazy","label-size":"sm","label-cols":"4"}},[a("b-form-select",{attrs:{options:t.listeDesEtapes,size:"sm"},model:{value:e.state_name,callback:function(a){t.$set(e,"state_name",a)},expression:"condition.state_name"}})],1),a("b-form-group",{attrs:{label:"si le champs ","label-for":"input-lazy","label-size":"sm","label-cols":"4"}},[a("b-form-select",{attrs:{options:t.listeDesChamps(e),size:"sm"},model:{value:e.name,callback:function(a){t.$set(e,"name",a)},expression:"condition.name"}})],1),a("b-form-group",{attrs:{label:"est","label-for":"input-lazy","label-size":"sm","label-cols":"4"}},[a("b-form-select",{attrs:{options:t.listsOperators,size:"sm"},model:{value:e.operator,callback:function(a){t.$set(e,"operator",a)},expression:"condition.operator"}})],1),"egal"!=e.operator||e.options&&0!==e.options.length?t._e():a("b-form-group",{attrs:{label:"valeur","label-for":"input-lazy","label-size":"sm","label-cols":"4"}},[a("b-form-input",{attrs:{required:""},model:{value:e.value,callback:function(a){t.$set(e,"value",a)},expression:"condition.value"}})],1),"egal"==e.operator&&e.options&&e.options.length>0?a("b-form-group",{attrs:{label:"valeur","label-for":"input-lazy","label-size":"sm","label-cols":"4"}},[a("b-form-select",{attrs:{options:e.options,size:"sm"},model:{value:e.value,callback:function(a){t.$set(e,"value",a)},expression:"condition.value"}})],1):t._e()],1),a("div",{staticClass:"svg-content"},[a("b-button",{staticClass:"m-0 p-0",attrs:{variant:"transparent"},on:{click:function(e){return t.deleteState(o)}}},[a("b-icon",{staticClass:"px-2",attrs:{icon:"trash",variant:"danger"}})],1)],1)])])}))],2)],1)],1)],1)},s=[],i=a("f3f3"),n=(a("a15b"),a("a434"),a("b0c0"),a("e412")),r=a("2f62"),l={name:"ValidationFields",props:{},components:{},data:function(){return{options:[{text:"Le champs est requis",value:"required"},{text:"Le champ ne peut contenir que des caractères alphabétiques.",value:"alpha"},{text:"Le champ doit être un email valide.",value:"email"},{text:"Le champ doit être une valeur numerique",value:"numeric"}],selected:[],listsOperators:n["b"].listsOperators(),optionsAction:n["b"].Action("Cette etape"),form_validation_options:[]}},mounted:function(){},watch:{selected:function(){this.formDatas.require=this.selected.join("|")}},computed:Object(i["a"])(Object(i["a"])({},Object(r["b"])(["formDatas","form"])),{},{listeDesEtapes:function(){var t=[];return n["b"].listesEtapes(this.form,this.formDatas,t),t}}),methods:{addCondition:function(){this.formDatas.states||this.$set(this.formDatas,"states",[]),this.formDatas.states.push(n["b"].conditions())},deleteState:function(t){this.formDatas.states.splice(t,1)},listeDesChamps:function(t){var e=[];if(t.state_name&&""!==t.state_name){var a=n["b"].getFormStateByName(t.state_name,this.form.forms);if(void 0!==a)for(var o in a.fields){var s=a.fields[o];t.name==s.name&&s.options.length&&(t.options=s.options),e.push({text:s.label,value:s.name})}}return e},put_form_validation_options:function(t){this.form_validation_options=t}}},c=l,f=(a("9179"),a("2877")),m=Object(f["a"])(c,o,s,!1,null,"e1f28120",null);e["a"]=m.exports},d74d:function(t,e,a){},e248:function(t,e,a){"use strict";a.r(e);var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-modal",{attrs:{size:"lg",id:t.idModal,title:"Configuration de l'etape","hide-footer":""},on:{ok:t.handleOk},model:{value:t.isOpen,callback:function(e){t.isOpen=e},expression:"isOpen"}},[a("form",{ref:"forme",on:{submit:t.handleSubmit,reset:t.resetModal,hidden:t.resetModal}},[a("b-form-group",{attrs:{label:"Titre","invalid-feedback":"Name is required"}},[a("b-input-group",[a("b-form-input",{attrs:{required:""},on:{input:t.input},model:{value:t.formDatas.info.title,callback:function(e){t.$set(t.formDatas.info,"title",e)},expression:"formDatas.info.title"}}),a("b-form-input",{attrs:{required:"",readonly:t.readonly,state:t.state_name},on:{dblclick:t.toogleReadOnly},model:{value:t.formDatas.info.name,callback:function(e){t.$set(t.formDatas.info,"name",e)},expression:"formDatas.info.name"}})],1)],1),a("b-form-group",{attrs:{label:"Titre texte d'aide","invalid-feedback":"the header title is required"}},[a("b-form-input",{model:{value:t.formDatas.info.headerTitle,callback:function(e){t.$set(t.formDatas.info,"headerTitle",e)},expression:"formDatas.info.headerTitle"}})],1),a("b-form-group",{attrs:{label:"Texte d'aide","invalid-feedback":"the header title is required"}},[a("b-form-input",{model:{value:t.formDatas.info.description,callback:function(e){t.$set(t.formDatas.info,"description",e)},expression:"formDatas.info.description"}})],1),a("ValidationEtapes",{attrs:{currentFormDatas:t.formDatas}}),a("hr"),a("b-row",{attrs:{"align-h":"end"}},[a("div",{staticClass:"mr-3"},[a("b-button",{attrs:{type:"submit",variant:"outline-info",size:"sm"}},[a("b-icon",{attrs:{icon:"plus"}}),t._v(" Mettre à jour ")],1)],1)])],1)])},s=[],i=a("f3f3"),n=(a("b0c0"),a("caad"),a("2532"),a("2f62")),r=a("a4d6"),l=a("b9f1"),c={name:"StepConfiguration",props:{idModal:{type:String,default:"step-configuration"}},components:{ValidationEtapes:l["a"]},data:function(){return{isOpen:!1,readonly:!0,state_name:!0}},mounted:function(){},watch:{},computed:Object(i["a"])(Object(i["a"])(Object(i["a"])({},Object(n["c"])(["mode","form"])),Object(n["b"])(["formDatas"])),{},{ListNameforms:function(){var t=[];for(var e in this.form.forms)t.push(this.form.forms[e].info.name);return t}}),methods:{openPopUp:function(){this.isOpen=!this.isOpen},handleOk:function(t){t.preventDefault(),this.handleSubmit()},handleSubmit:function(t){var e=this;t.preventDefault(),this.$nextTick((function(){e.$bvModal.hide(e.idModal)}))},resetModal:function(){},input:function(){if(this.readonly&&this.formDatas.info.name.length<=32){var t=Object(r["a"])(this.formDatas.info.title);this.ListNameforms.includes(t)?this.state_name=!1:this.state_name=!0,this.formDatas.info.name=t}},toogleReadOnly:function(){this.readonly?this.readonly=!1:this.readonly=!0}}},f=c,m=a("2877"),u=Object(m["a"])(f,o,s,!1,null,"4c5361d0",null);e["default"]=u.exports}}]);
//# sourceMappingURL=appForm.umd.min.13.js.map